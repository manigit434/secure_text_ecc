{% extends "base.html" %}

{% block title %}New Secure Submission | SecureText ECC{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8">

    <div class="card shadow-sm border-0 mt-4">

      <!-- Header -->
      <div class="card-header bg-dark text-white p-4">
        <h4 class="mb-1">
          <i class="bi bi-shield-lock-fill"></i>
          Secure Message Submission
        </h4>
        <small class="opacity-75">
          Your message is encrypted on the server using ECC + AES-GCM
          and stored as ciphertext only.
        </small>
      </div>

      <!-- Body -->
      <div class="card-body p-4">

        <!-- Security notice -->
        <div class="alert alert-warning small">
          <i class="bi bi-shield-exclamation"></i>
          <strong>Security Notice:</strong>
          Plaintext exists only temporarily in server memory and is
          <strong>never stored</strong> in the database.
        </div>

        <!-- Submission form -->
        <form method="post">
          {% csrf_token %}

          <div class="mb-4">
            <label class="form-label fw-semibold">
              Secure Message
            </label>
            <textarea
              name="message"
              class="form-control"
              rows="8"
              placeholder="Enter your confidential message here"
              required
            ></textarea>
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-dark btn-lg">
              <i class="bi bi-lock-fill"></i>
              Encrypt & Submit Securely
            </button>
          </div>
        </form>

        <!-- Crypto summary -->
        <div class="mt-4 p-3 bg-light rounded">
          <div class="row text-center small">
            <div class="col-md-4">
              <i class="bi bi-key text-primary fs-4"></i>
              <div>ECC (ECDH)</div>
            </div>
            <div class="col-md-4">
              <i class="bi bi-shield-check text-success fs-4"></i>
              <div>AES-GCM</div>
            </div>
            <div class="col-md-4">
              <i class="bi bi-database text-secondary fs-4"></i>
              <div>Ciphertext Storage</div>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>
{% endblock %}
